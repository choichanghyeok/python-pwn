포너블 명령어	

@@@@@@@@@@( 정보 수집 기법들)@@@@@@@@@@@@


pwd >> 현재 경로를 보여줌

w >> 현재 접속 로그기록들

ip >> 현재 터미널의 ip 주소

id >> 사용자 정보

whoami >> 사용자 정보(누구인지)

uname -a >> 현재 내가 접속 한곳 이나 날짜


cat /etc/*release >> 현재쓰고있는 운영체제를 알려줌

rpm - qa >> 깔려있는 패키지 정보들


cat /proc/cpuinfo >> cpu정보 수집


@@@@@@@@@패스워드 파일 분석 방법@@@@@@@@@@


cat /etc/passwd >> 패스워드 여러 계정 정보 목록

위를 입력하면

계정 : 패스워드 : 누구? : 그룹 : 사용자 : 로그인성공했을때 위치하게되는 디렉터리 : 사용자가 처음 로그인했을때 실행될 프로그램

cat /etc/shadow >> 자세한 계정 정보들


@@@@@@@@@@@컴파일 방법 @@@@@@@@@@@

cat > 파일 이름 	과정으로 소스 코드 입력

gcc -o 파일이름.exe 파일이름.c 입력

그리고 cat 파일이름 으로 실행

@@@@@@@@@@@@@@리눅스 권한@@@@@@@@@@@@@@

리눅스에는 4가지 종류의 사용자
유저 >> 자신
그룹 >> 모든유저는 하나의 이상의 그룹에 속해있고 변경하지않는다면 자신의 이름
아더 >> 유저와 그룹을 제외한 모든 다른사람들
루트 >> 절대권한을 가지고있는 사용자

명렁어 id를 입력하면

여러 정보가 나오는데

uid >> User ID 의 약자 (뒤에 숫자는 사용자들이 누구인지 숫자 부여)
(ex) trainer9 = 2009

gid >> Group ID 의 약자 (특별한일이 없는한 gid는 uid와 같다)

groups >> 현재 자신이 어떤 그룹에 속해있는지를 말한다. (임의로 변경하지 않으면 uid와 같은 그룹에 속하게 된다.)

-		rwx 		rwx 		rwx
파일 상태		유저권한		그룹권한		아더권한

r 읽기 권한	w 쓰기 권한 	x 실행 권한


@@@@@@@@@@@@@SetUID@@@@@@@@@@@@@@@@@@

해킹에는 두가지가 있다.

remote 해킹 >> 자신이 해킹하고자하는 서버에 아이디를 가지고 있지 않을때 아이디를 얻고자 시도하는것

local 해킹 >> 해킹을 하고자 하는 서버에 일반 계정을 가지고 있을때 관리자 권한(root)를 얻고자 시도하는 것


##remote 해킹

1. 무작위로 아이디와 비밀번호를 입력하여 접속하는 방법
2. 데몬의 취약점을 공략하여 접속하는 방법
3. 게시판이나 방명록을 이용하여 접속하는방법 등 여러가지가 존재함


SetUID 사용법

ex) 레이스컨디션 , IFS버그 , 리크버그 , 버터 오버플로우, 포맷스트링어택 등등

해커스쿨 로그인메뉴 ( Local Exploit >> 지금까지 발견된 해킹기법들을 모아놓은것)

SetUID 가 걸려있는 파일들을 통해 관리자권한을 취득할 가능성이 있음

SetUID가 걸려있는 파일을 알아볼수있는 방법은

ls -al /usr/bin/passwd 를 입력했을때

파일 정보가나오는데 s(x를포함)라는 글자가 SetUID 이다.

이제 서버 전체에서 SetUID가 걸린 파일을 찾는 방법은
find / -perm -4000 >> /에서 부터 적어도 SetUID가 걸린 모든 파일을 찾아라

-(적어도) , -perm(권한을 찾겠다)라는 옵션, 뒤에 4가 SetUID를 의미 '000'은 rwx모두를 의미

옵션 명령어

-perm >> 권한과 일치하는 파일을 찾는다.
find / -perm 4755

-name >> 이름과 일치하는 파일을 찾는다.
find / -name cat

-user >> 유저와 일치하는 파일을 찾는다.
find / -user mmung2

-group >> 그룹과 일치하는 파일을 찾는다.
find / -group guta


해커스쿨의 레벨별 해킹을 통과하는 방법

자신의 아이디가 레벨 3이면 레벨 4로 넘어가기위해서 레벨 4의 권한으로
SetUID가 걸린 파일을 찾고 
(find / -user level4 -perm -4000)
한개이상의 파일이 발견되는데 그 파일은 임의로 작성된 멍청한 파일이다.
그파일을 이용하여 레벨4의 쉘을 얻으면 성공

my-pass 라고 입력하면 레벨 4의 패스워드가 나온다